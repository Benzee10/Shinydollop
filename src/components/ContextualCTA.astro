
---
interface Props {
  context?: 'gallery' | 'article' | 'bio' | 'premium';
  position?: 'top' | 'middle' | 'bottom';
}

const { context = 'article', position = 'middle' } = Astro.props;

const getContextualMessage = (ctx: string, pos: string) => {
  const messages = {
    gallery: {
      top: "🔥 Want to see exclusive content? Unlock premium galleries now!",
      middle: "💎 More stunning photos await in our premium collection",
      bottom: "✨ This is just a preview - get full access to all galleries"
    },
    article: {
      top: "📱 Join thousands getting exclusive content updates",
      middle: "🎯 Discover more premium content tailored for you",
      bottom: "🚀 Ready for the next level? Get premium access"
    },
    bio: {
      top: "💫 Follow this model's exclusive content",
      middle: "🔓 Get access to this model's private galleries",
      bottom: "❤️ Support your favorite models with premium access"
    },
    premium: {
      top: "⭐ Premium members get 10x more content",
      middle: "🎪 Join the VIP experience",
      bottom: "💝 Treat yourself to premium quality"
    }
  };
  return messages[ctx]?.[pos] || messages.article.middle;
};

const contextMessage = getContextualMessage(context, position);
---

<div class={`contextual-cta contextual-cta--${position} contextual-cta--${context}`}>
  <div class="contextual-cta__content">
    <p class="contextual-cta__message">{contextMessage}</p>
    <a 
      href="https://whatsappad.vercel.app/" 
      target="_blank" 
      rel="noopener noreferrer"
      class="contextual-cta__button"
    >
      <span>Get Premium Access</span>
      <svg class="contextual-cta__arrow" viewBox="0 0 24 24" fill="currentColor">
        <path d="M13.025 1l-2.847 2.828 6.176 6.176h-16.354v3.992h16.354l-6.176 6.176 2.847 2.828 10.975-11z"/>
      </svg>
    </a>
  </div>
</div>

<style>
  .contextual-cta {
    margin: 2rem 0;
    padding: 1.5rem;
    background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(238, 90, 36, 0.1));
    border: 2px solid rgba(255, 107, 107, 0.2);
    border-radius: 12px;
    text-align: center;
    transition: all 0.3s ease;
  }
  
  .contextual-cta:hover {
    border-color: rgba(255, 107, 107, 0.4);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(255, 107, 107, 0.15);
  }
  
  .contextual-cta--top {
    margin-top: 1rem;
  }
  
  .contextual-cta--bottom {
    margin-bottom: 1rem;
  }
  
  .contextual-cta__message {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--primary);
    margin-bottom: 1rem;
  }
  
  .contextual-cta__button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 12px 24px;
    background: linear-gradient(45deg, #ff6b6b, #ee5a24);
    color: white;
    text-decoration: none;
    border-radius: 25px;
    font-weight: bold;
    transition: all 0.2s ease;
  }
  
  .contextual-cta__button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(255, 107, 107, 0.3);
  }
  
  .contextual-cta__arrow {
    width: 16px;
    height: 16px;
    transition: transform 0.2s ease;
  }
  
  .contextual-cta__button:hover .contextual-cta__arrow {
    transform: translateX(3px);
  }
  
  @media (max-width: 768px) {
    .contextual-cta {
      margin: 1.5rem 0;
      padding: 1.25rem;
      border-radius: 10px;
    }
    
    .contextual-cta__message {
      font-size: 1rem;
      margin-bottom: 0.875rem;
    }
    
    .contextual-cta__button {
      padding: 10px 20px;
      font-size: 0.9rem;
      border-radius: 20px;
    }
  }
  
  @media (max-width: 480px) {
    .contextual-cta {
      margin: 1rem 0;
      padding: 1rem;
      border-radius: 8px;
    }
    
    .contextual-cta__message {
      font-size: 0.9rem;
      margin-bottom: 0.75rem;
    }
    
    .contextual-cta__button {
      padding: 8px 16px;
      font-size: 0.85rem;
      width: 100%;
      justify-content: center;
    }
    
    .contextual-cta__arrow {
      width: 14px;
      height: 14px;
    }
  }
</style>
